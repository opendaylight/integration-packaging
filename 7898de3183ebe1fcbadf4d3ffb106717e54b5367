{
  "comments": [
    {
      "key": {
        "uuid": "ba1f61a0_56e12afd",
        "filename": "rpm/specs/opendaylight.spec",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1723
      },
      "writtenOn": "2017-08-17T13:58:12Z",
      "side": 1,
      "message": "\"Don\u0027t\"",
      "range": {
        "startLine": 67,
        "startChar": 2,
        "endLine": 67,
        "endChar": 7
      },
      "revId": "7898de3183ebe1fcbadf4d3ffb106717e54b5367",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_f6f13ece",
        "filename": "rpm/specs/opendaylight.spec",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1723
      },
      "writtenOn": "2017-08-17T13:58:12Z",
      "side": 1,
      "message": "Maybe \"SNAT, ACLService, etc.\"",
      "range": {
        "startLine": 67,
        "startChar": 73,
        "endLine": 67,
        "endChar": 92
      },
      "revId": "7898de3183ebe1fcbadf4d3ffb106717e54b5367",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_16d7b224",
        "filename": "rpm/specs/opendaylight.spec",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1723
      },
      "writtenOn": "2017-08-17T13:58:12Z",
      "side": 1,
      "message": "Seems like we should handle not-nuking journal/snapshot and etc files in the same way",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 35
      },
      "revId": "7898de3183ebe1fcbadf4d3ffb106717e54b5367",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_f6765e3d",
        "filename": "rpm/specs/opendaylight.spec",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 6464
      },
      "writtenOn": "2017-08-17T14:15:31Z",
      "side": 1,
      "message": "I tried adding \"-not -name \u0027etc*\u0027 at L58 but it didnot work for me. Maybe because my system was messed up?? Also doing this is a common/spec-file way to not edit config files. %config(noreplace) is intelligent enough to detect any changes and manage the files accordingly.\n\nI tested this locally by manually adding \"netvirt-openstack\" in *features.cfg file and moving to \"conntrack\" for snat in etc/../natservice-config-file. Both the information didnot change after update.",
      "parentUuid": "ba1f61a0_16d7b224",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 35
      },
      "revId": "7898de3183ebe1fcbadf4d3ffb106717e54b5367",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_d6ed1ab9",
        "filename": "rpm/specs/opendaylight.spec",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1723
      },
      "writtenOn": "2017-08-17T14:31:22Z",
      "side": 1,
      "message": "%config(noreplace) seems cool, I\u0027m fine with using that method (/me didn\u0027t know about it). Can you try doing the journal/snapshot preservation the same way?",
      "parentUuid": "ba1f61a0_f6765e3d",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 35
      },
      "revId": "7898de3183ebe1fcbadf4d3ffb106717e54b5367",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_e920404b",
        "filename": "rpm/specs/opendaylight.spec",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 6464
      },
      "writtenOn": "2017-08-18T09:12:02Z",
      "side": 1,
      "message": "That wont\u0027 work because journal and snapshots dirs are created after ODL is started. So the spec-file will error out and a package won\u0027t be created. I tried.\n\nSpec-file changes:\n%config(noreplace) /opt/%name/etc/*\n%config(noreplace) /opt/%name/journal/*\n%config(noreplace) /opt/%name/snapshots/*\n\nError:\nProcessing files: opendaylight-6.1.0-1.el7.noarch\nerror: File not found by glob: /home/centos/rpmbuild/BUILDROOT/opendaylight-6.1.0-1.el7.x86_64/opt/opendaylight/journal/*\nerror: File not found by glob: /home/centos/rpmbuild/BUILDROOT/opendaylight-6.1.0-1.el7.x86_64/opt/opendaylight/snapshots/*\n\n\nRPM build errors:\n    File not found by glob: /home/centos/rpmbuild/BUILDROOT/opendaylight-6.1.0-1.el7.x86_64/opt/opendaylight/journal/*\n    File not found by glob: /home/centos/rpmbuild/BUILDROOT/opendaylight-6.1.0-1.el7.x86_64/opt/opendaylight/snapshots/*\nTraceback (most recent call last):\n  File \"./build.py\", line 338, in \u003cmodule\u003e\n    build_rpm(build)\n  File \"./build.py\", line 170, in build_rpm\n    shutil.copy(rpm_out_path, cache_dir)\n  File \"/usr/lib64/python2.7/shutil.py\", line 119, in copy\n    copyfile(src, dst)\n  File \"/usr/lib64/python2.7/shutil.py\", line 82, in copyfile\n    with open(src, \u0027rb\u0027) as fsrc:\nIOError: [Errno 2] No such file or directory: \u0027/home/centos/rpmbuild/RPMS/noarch/opendaylight-6.1.0-1.el7.noarch.rpm\u0027",
      "parentUuid": "ba1f61a0_d6ed1ab9",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 35
      },
      "revId": "7898de3183ebe1fcbadf4d3ffb106717e54b5367",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}